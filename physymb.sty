% Physics guide definitions
\ProvidesPackage{physymb}

% =================== Initialization section ====================

\RequirePackage{ifthen}
\newboolean{pparticle}
\newboolean{pfeynman}
\newboolean{punits}
\newboolean{pboldvectors}

% ==================== Option declarations ======================

% Various classes of symbols
\DeclareOption{particle}{\setboolean{pparticle}{true}}
\DeclareOption{units}{\setboolean{punits}{true}}
% Feynman diagrams
\DeclareOption{feynman}{\setboolean{pfeynman}{true}}

\DeclareOption{arrowvectors}{\setboolean{pboldvectors}{false}}
\DeclareOption{boldvectors}{\setboolean{pboldvectors}{true}}

\ProcessOptions\relax

% ==================== Package requirements ======================

% color setup (in case we need colored quarks or something)
%\RequirePackage{color}
% predefined colors:
%  red     [rgb]{1,0,0}
%  green   [rgb]{0,1,0}
%  blue    [rgb]{0,0,1}
%  cyan    [rgb]{0,1,1}      [cmyk]{1,0,0,0}
%  magenta [rgb]{1,0,1}      [cmyk]{0,1,0,0}
%  yellow  [rgb]{1,1,0}      [cmyk]{0,0,1,0}
%  black   [rgb]{0,0,0}      [cmyk]{0,0,0,1}
%  white   [rgb]{1,1,1}      [cmyk]{0,0,0,0}
% unfortunately cmyk doesn't seem to be working for some reason

% mathematical notation packages
\RequirePackage{amsbsy}
\RequirePackage{amsmath}
\RequirePackage{amsfonts}
\RequirePackage{amssymb}
\allowdisplaybreaks[2]

\RequirePackage{accents}

% for Griffiths'-style script r
\RequirePackage{calligra}
\DeclareMathAlphabet{\mathcalligra}{T1}{calligra}{m}{n}
\DeclareFontShape{T1}{calligra}{m}{n}{<->s*[2.2]callig15}{}
\newcommand{\scriptr}{\mathcalligra{r}}

% scientific notation
\newcommand{\sn}[2]{\ensuremath{#1\times10^{#2}}}

% SI units
\ifthenelse{\boolean{punits}}
{
 \RequirePackage[thinspace,mediumqspace,Gray,squaren]{SIunits}
 \addunit{\joulepercubicmeter}{\joule\per\cubic\meter}
 \addunit{\joulepercubicmeterrp}{\joule\usk\rpcubic\meter}
 % and other, non-SI useful units
 \addunit{\torr}{torr} % omgies a hack...addunit is an SIunits internal command
 \addunit{\mmhg}{mmHg}
 \addunit{\amu}{amu}
 \addunit{\yr}{yr}
 \addunit{\erg}{erg}
 \addunit{\gauss}{Ga}
 \addunit{\molar}{M}
 \addunit{\poise}{P}
 \addunit{\foot}{ft}
 \addunit{\mileperhour}{mph}
 \addunit{\pound}{lb}
 \newcommand{\snunit}[3]{\ifthenelse{\equal{#1}{1}}{\unit{10^{#2}}{#3}}{\unit{\sn{#1}{#2}}{#3}}}
}
{}

% Order of
\newcommand{\orderof}[1]{\ensuremath{\mathcal{O}\left(#1\right)}}

% Functions:
% trig
\DeclareMathOperator{\asin}{\sin^{-1}}
\DeclareMathOperator{\acos}{\cos^{-1}}
\DeclareMathOperator{\atan}{\tan^{-1}}
\DeclareMathOperator{\asec}{\sec^{-1}}
\DeclareMathOperator{\acsc}{\csc^{-1}}
\DeclareMathOperator{\acot}{\cot^{-1}}
% hyperbolic
\DeclareMathOperator{\sech}{sech}
\DeclareMathOperator{\csch}{csch}
\DeclareMathOperator{\asinh}{\sinh^{-1}}
\DeclareMathOperator{\acosh}{\cosh^{-1}}
\DeclareMathOperator{\atanh}{\tanh^{-1}}
\DeclareMathOperator{\asech}{\sech^{-1}}
\DeclareMathOperator{\acsch}{\csch^{-1}}
\DeclareMathOperator{\acoth}{\coth^{-1}}

% diagonal
\DeclareMathOperator{\diag}{diag}
% real
\DeclareMathOperator{\realop}{Re}
% imaginary
\DeclareMathOperator{\imagop}{Im}
% real part
\newcommand{\real}[1]{\realop\{#1\}}
% imaginary part
\newcommand{\imag}[1]{\imagop\{#1\}}
% absolute value
\newcommand{\abs}[1]{\left\lvert#1\right\rvert}
% norm (magnitude)
\newcommand{\norm}[1]{\left\lVert#1\right\rVert}
% evaluate at endpoints
\newcommand{\evalat}[3]{\left.#1\right|_{#2}^{#3}}
% Poisson brackets
\newcommand{\pbrac}[2]{\left[#1,#2\right]}
% Poisson brackets with respect to specified variables
\newcommand{\pbracvars}[4]{\left[#1,#2\right]_{#3,#4}}
% vector
\ifthenelse{\boolean{pboldvectors}}%
 {\renewcommand{\vec}[1]{\mathbf{#1}}}%
 {\renewcommand{\vec}[1]{\accentset{\rightharpoonup}{#1}}}
% \renewcommand{\vec}[1]{\mathbf{#1}}
% \renewcommand{\vec}[1]{\undertilde{#1}}
\newcommand{\vecvar}[1]{\vec{#1}}
% tensor
\newcommand{\tnsvar}[1]{\mathbf{#1}}
% \renewcommand{\tnsvar}[1]{\undertilde{\undertilde{#1}}}
% matrix
\newcommand{\matvar}[1]{\mathbf{#1}}
% identity matrix symbol
\newcommand{\identitym}{\mathbf{1}}
% determinant
\newcommand{\determinant}[1]{\left\lvert#1\right\rvert}
% trace
\newcommand{\trace}[1]{\ensuremath{\mathrm{Tr}\left(#1\right)}}

% unit vectors
\newcommand{\unitd}{\hat{d}}
\newcommand{\unite}{\hat{e}}
\newcommand{\unitj}{\hat{j}}
\newcommand{\unitk}{\hat{k}}
\newcommand{\unitl}{\hat{\ell}}
\newcommand{\unitn}{\hat{n}}
\newcommand{\unitp}{\hat{p}}
\newcommand{\unitq}{\hat{q}}
\newcommand{\unitr}{\hat{r}}
\newcommand{\units}{\hat{s}}
\newcommand{\unitt}{\hat{t}}
\newcommand{\unitu}{\hat{u}}
\newcommand{\unitv}{\hat{v}}
\newcommand{\unitw}{\hat{w}}
\newcommand{\unitx}{\hat{x}}
\newcommand{\unity}{\hat{y}}
\newcommand{\unitz}{\hat{z}}
\newcommand{\unitphi}{\hat{\phi}}
\newcommand{\unitrho}{\hat{\rho}}
\newcommand{\unittheta}{\hat{\theta}}
\newcommand{\unitomega}{\hat{\omega}}
% turn any coordinate into a unit vector
\newcommand{\unitvec}[1]{\hat{#1}}

% Calculus:
% differential character
\newcommand{\udc}{\mathrm{d}}
\newcommand{\uddc}{\mathrm{d}^2}
\newcommand{\udddc}{\mathrm{d}^3}
% partial differential character
\newcommand{\pdc}{\partial}
\newcommand{\pddc}{\partial^2}
\newcommand{\pdddc}{\partial^3}
% unified differential with space (for use in integrals)
\newcommand{\uds}{\,\mathrm{d}}
\newcommand{\udds}{\,\mathrm{d}^2}
\newcommand{\uddds}{\,\mathrm{d}^3}
% partial differential with space (for use in integrals)
\newcommand{\pds}{\,\partial}
\newcommand{\pdds}{\,\partial^2}
\newcommand{\pddds}{\,\partial^3}
% unified derivative
\newcommand{\ud}[2]{\frac{\mathrm{d}#1}{\mathrm{d}#2}}
% unified derivative [of] derivative
\newcommand{\udd}[2]{\frac{\mathrm{d}^2#1}{\mathrm{d} #2^2}}
% unified derivative [of] derivative [of] derivative
\newcommand{\uddd}[2]{\frac{\mathrm{d}^3#1}{\mathrm{d} #2^3}}
% partial derivative
\newcommand{\pd}[2]{\frac{\partial #1}{\partial #2}}
% partial derivative [of] derivative
\newcommand{\pdd}[2]{\frac{\partial^2#1}{\partial #2^2}}
% partial derivative [of] derivative [of] derivative
\newcommand{\pddd}[2]{\frac{\partial^3#1}{\partial #2^3}}
% gradient - multidimensional derivative
\newcommand{\grad}{\accentset{\rightharpoonup}{\nabla}}
% divergence (replace \div since we don't need the division symbol)
\renewcommand{\div}{\grad\cdot}
% curl
\newcommand{\curl}{\grad\times}
% Laplacian - multidimensional second derivative
\newcommand{\lapl}{\nabla^2}

% complex conjugate of a value
\newcommand{\conj}[1]{{#1 ^{*}}}
% Hermitian conjugate of an operator
\newcommand{\herm}[1]{{#1 ^{\dagger}}}

% Sets:
% natural numbers
\newcommand{\natset}{\mathbb{N}}
% integers
\newcommand{\intset}{\mathbb{Z}}
% complex plane
\newcommand{\cpxset}{\mathbb{C}}
% whole numbers
\newcommand{\whlset}{\mathbb{Q}}
% real line
\newcommand{\realset}{\mathbb{R}}
% imaginary line
\newcommand{\imagset}{\mathbb{I}}

% Dirac notation
% bra (conjugate quantum state)
\newcommand{\bra}[1]{\left\langle #1 \right\rvert}
% ket (quantum state)
\newcommand{\ket}[1]{\left\lvert #1 \right\rangle}
% bracket (inner product)
\newcommand{\braket}[2]{\langle #1 \vert #2 \rangle}
% matrix element
\newcommand{\melement}[3]{\langle #1 \vert #2 \vert #3 \rangle}
% projector-ish thing
\newcommand{\projop}[2]{\vert #1 \rangle #2 \langle #1 \vert}
% expectation value
\newcommand{\expect}[1]{\left\langle #1 \right\rangle}
% commutator
\newcommand{\commut}[2]{\left[ #1, #2 \right]}
% anticommutator
\newcommand{\acommut}[2]{\left\{ #1, #2 \right\}}

\DeclareMathOperator{\round}{round}

% Differential geometry
\DeclareMathOperator{\exd}{\mathbf{d}}
\newcommand{\hodge}{\star}

% Particle physics
% quarks
\newcommand{\upq}{\ensuremath{\mathrm{u}}{}}
\newcommand{\dnq}{\ensuremath{\mathrm{d}}{}}
\newcommand{\srq}{\ensuremath{\mathrm{s}}{}}
\newcommand{\chq}{\ensuremath{\mathrm{c}}{}}
\newcommand{\btq}{\ensuremath{\mathrm{b}}{}}
\newcommand{\tpq}{\ensuremath{\mathrm{t}}{}}
% antiquarks
\newcommand{\upaq}{\ensuremath{\bar{\mathrm{u}}}{}}
\newcommand{\dnaq}{\ensuremath{\bar{\mathrm{d}}}{}}
\newcommand{\sraq}{\ensuremath{\bar{\mathrm{s}}}{}}
\newcommand{\chaq}{\ensuremath{\bar{\mathrm{c}}}{}}
\newcommand{\btaq}{\ensuremath{\bar{\mathrm{b}}}{}}
\newcommand{\tpaq}{\ensuremath{\bar{\mathrm{t}}}{}}
% leptons
\newcommand{\elp}{\ensuremath{\mathrm{e}^-}{}}
\newcommand{\enu}{\ensuremath{\nu_\mathrm{e}}{}}
\newcommand{\ulp}{\ensuremath{\mu^-}{}}
\newcommand{\unu}{\ensuremath{\nu_{\mu}}{}}
\newcommand{\tlp}{\ensuremath{\tau^-}{}}
\newcommand{\tnu}{\ensuremath{\nu_{\tau}}{}}
% antileptons
\newcommand{\ealp}{\ensuremath{\mathrm{e}^+}{}}
\newcommand{\eanu}{\ensuremath{\bar{\nu}_\mathrm{e}}{}}
\newcommand{\ualp}{\ensuremath{\mu^+}{}}
\newcommand{\uanu}{\ensuremath{\bar{\nu}_{\mu}}{}}
\newcommand{\talp}{\ensuremath{\tau^+}{}}
\newcommand{\tanu}{\ensuremath{\bar{\nu}_{\tau}}{}}
% baryons
\newcommand{\prbr}{\ensuremath{\mathrm{p}^+}{}}
\newcommand{\nebr}{\ensuremath{\mathrm{n}^0}{}}
\newcommand{\lmzbr}{\ensuremath{\Lambda^0}{}}
\newcommand{\sgpbr}{\ensuremath{\Sigma^+}{}}
\newcommand{\sgzbr}{\ensuremath{\Sigma^0}{}}
\newcommand{\sgmbr}{\ensuremath{\Sigma^-}{}}
\newcommand{\dlppbr}{\ensuremath{\Delta^{++}}{}}
\newcommand{\dlpbr}{\ensuremath{\Delta^+}{}}
\newcommand{\dlzbr}{\ensuremath{\Delta^0}{}}
\newcommand{\dlmbr}{\ensuremath{\Delta^-}{}}
\newcommand{\xizbr}{\ensuremath{\Xi^0}{}}
\newcommand{\ximbr}{\ensuremath{\Xi^-}{}}
\newcommand{\ommbr}{\ensuremath{\Omega^-}{}}
\newcommand{\sgspbr}{\ensuremath{\Sigma^{*+}}{}}
\newcommand{\sgszbr}{\ensuremath{\Sigma^{*0}}{}}
\newcommand{\sgsmbr}{\ensuremath{\Sigma^{*-}}{}}
\newcommand{\xiszbr}{\ensuremath{\Xi^{*0}}{}}
\newcommand{\xismbr}{\ensuremath{\Xi^{*-}}{}}
% antibaryons
\newcommand{\prabr}{\ensuremath{\mathrm{p}^-}{}}
\newcommand{\neabr}{\ensuremath{\bar{\mathrm{n}}^0}{}}
\newcommand{\dlpabr}{\ensuremath{\bar{\Delta}^{+}}{}}
\newcommand{\dlzabr}{\ensuremath{\bar{\Delta}^{0}}{}}
\newcommand{\dlmabr}{\ensuremath{\bar{\Delta}^{-}}{}}
\newcommand{\dlmmabr}{\ensuremath{\bar{\Delta}^{--}}{}}
% mesons
\newcommand{\pipm}{\ensuremath{\pi^+}{}}
\newcommand{\pizm}{\ensuremath{\pi^0}{}}
\newcommand{\pimm}{\ensuremath{\pi^-}{}}
\newcommand{\kapm}{\ensuremath{K^+}{}}
\newcommand{\kazm}{\ensuremath{K^0}{}}
\newcommand{\kazam}{\ensuremath{\bar{K}^0}{}}
\newcommand{\kamm}{\ensuremath{K^-}{}}
\newcommand{\ropm}{\ensuremath{\rho^+}{}}
\newcommand{\rozm}{\ensuremath{\rho^0}{}}
\newcommand{\romm}{\ensuremath{\rho^-}{}}
\newcommand{\etam}{\ensuremath{\eta}{}}
\newcommand{\etapm}{\ensuremath{\eta'}{}}
\newcommand{\kaspm}{\ensuremath{\mathrm{K}^{*+}}{}}
\newcommand{\kaszm}{\ensuremath{\mathrm{K}^{*0}}{}}
\newcommand{\kaszam}{\ensuremath{\bar{\mathrm{K}}^{*0}}{}}
\newcommand{\kasmm}{\ensuremath{\mathrm{K}^{*-}}{}}
\newcommand{\omm}{\ensuremath{\omega}{}}
\newcommand{\phim}{\ensuremath{\phi}{}}
%bosons
\newcommand{\phbsn}{\ensuremath{\gamma}{}}
\newcommand{\Wbsn}{\ensuremath{\mathrm{W}}{}}
\newcommand{\Wpbsn}{\ensuremath{\mathrm{W}^{+}}{}}
\newcommand{\Wmbsn}{\ensuremath{\mathrm{W}^{-}}{}}
\newcommand{\Zzbsn}{\ensuremath{\mathrm{Z}^{0}}{}}
\newcommand{\hbsn}{\ensuremath{\mathrm{h}}{}}
\newcommand{\photon}{\phbsn} % for old code
% Feynman diagrams
\ifthenelse{\boolean{pfeynman}}%
 {\RequirePackage{feynmp}}%
 {}
